{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/js/main.js"],"sourcesContent":["'use strict';\nexport const createGalleryItemMarkup = images => {\n  return images\n    .map(\n      ({\n        largeImageURL,\n        webformatURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `<li class=\"gallery-item\">\n      <a class=\"gallery-link\" href=\"${largeImageURL}\">\n          <img\n            src=\"${webformatURL}\"\n            alt=\"${tags}\"\n            class=\"gallery-img img-fluid\" loading=\"lazy\" \n          />\n          <div class=\"text-list\">\n              <p class=\"text-likes\">Likes: ${likes}</p>\n              <p class=\"text-views\">Views: ${views}</p>\n              <p class=\"text-comments\">Comments: ${comments}</p>\n              <p class=\"text-downloads\">Downloads: ${downloads}</p>\n          </div>\n        </a>\n      </li>`\n    )\n    .join('');\n};\n","'use strict';\nconst API_KEY = '47936251-08966a92c9e59538871cb9ab8';\nconst BASE_URL = 'https://pixabay.com/api/';\nexport const PER_PAGE = 15;\nexport const fetchPhotosByQuery = (query, imagePage = 1) => {\n  const searchParams = new URLSearchParams({\n    q: query,\n    key: API_KEY,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n    per_page: PER_PAGE,\n    page: imagePage,\n  });\n\n  return fetch(`${BASE_URL}?${searchParams}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n    return response.json();\n  });\n};\n","'use strict';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { createGalleryItemMarkup } from './render-functions.js';\nimport { fetchPhotosByQuery } from './pixabay-api.js';\nimport { PER_PAGE } from './pixabay-api.js';\n\nconst galleryEl = document.querySelector('.js-gallery');\nconst searchFormEl = document.querySelector('.js-search-form');\nconst loaderEl = document.querySelector('.loader');\n\nfunction onSearchFormSubmit(event) {\n  event.preventDefault();\n  const searchQuery = event.target.elements.searchKeyword.value.trim();\n  if (searchQuery === '') {\n    galleryEl.innerHTML = '';\n    event.target.reset();\n    iziToast.error({\n      message: 'Input field can not be empty',\n      color: 'red',\n      position: 'topRight',\n      timeout: 2000,\n      close: true,\n    });\n    return;\n  }\n  galleryEl.innerHTML = '';\n  loaderEl.classList.remove('is-hidden');\n\n  fetchPhotosByQuery(searchQuery)\n    .then(imagesData => {\n      if (imagesData.total === 0) {\n        iziToast.show({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          color: 'red',\n          position: 'topRight',\n          timeout: 2000,\n          close: true,\n        });\n      }\n\n      galleryEl.innerHTML = createGalleryItemMarkup(imagesData.hits);\n      const lightbox = new SimpleLightbox('.js-gallery a', {\n        captionPosition: 'bottom',\n        captionDelay: 250,\n        captionsData: 'alt',\n      });\n      lightbox.refresh();\n    })\n    .catch(error => console.log(error))\n    .finally(() => {\n      event.target.reset();\n      loaderEl.classList.add('is-hidden');\n    });\n}\n\nsearchFormEl.addEventListener('submit', onSearchFormSubmit);\n"],"names":["createGalleryItemMarkup","images","largeImageURL","webformatURL","tags","likes","views","comments","downloads","API_KEY","BASE_URL","PER_PAGE","fetchPhotosByQuery","query","imagePage","searchParams","response","galleryEl","searchFormEl","loaderEl","onSearchFormSubmit","event","searchQuery","iziToast","imagesData","SimpleLightbox","error"],"mappings":"6vBACO,MAAMA,EAA0BC,GAC9BA,EACJ,IACC,CAAC,CACC,cAAAC,EACA,aAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA,sCAC0BN,CAAa;AAAA;AAAA,mBAEhCC,CAAY;AAAA,mBACZC,CAAI;AAAA;AAAA;AAAA;AAAA,6CAIsBC,CAAK;AAAA,6CACLC,CAAK;AAAA,mDACCC,CAAQ;AAAA,qDACNC,CAAS;AAAA;AAAA;AAAA,YAIzD,EACA,KAAK,EAAE,EC3BNC,EAAU,qCACVC,EAAW,2BACJC,EAAW,GACXC,EAAqB,CAACC,EAAOC,EAAY,IAAM,CAC1D,MAAMC,EAAe,IAAI,gBAAgB,CACvC,EAAGF,EACH,IAAKJ,EACL,WAAY,QACZ,YAAa,aACb,WAAY,OACZ,SAAUE,EACV,KAAMG,CACV,CAAG,EAED,OAAO,MAAM,GAAGJ,CAAQ,IAAIK,CAAY,EAAE,EAAE,KAAKC,GAAY,CAC3D,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,UAAU,EAErC,OAAOA,EAAS,MACpB,CAAG,CACH,ECXMC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAe,SAAS,cAAc,iBAAiB,EACvDC,EAAW,SAAS,cAAc,SAAS,EAEjD,SAASC,EAAmBC,EAAO,CACjCA,EAAM,eAAc,EACpB,MAAMC,EAAcD,EAAM,OAAO,SAAS,cAAc,MAAM,OAC9D,GAAIC,IAAgB,GAAI,CACtBL,EAAU,UAAY,GACtBI,EAAM,OAAO,QACbE,EAAS,MAAM,CACb,QAAS,+BACT,MAAO,MACP,SAAU,WACV,QAAS,IACT,MAAO,EACb,CAAK,EACD,MACD,CACDN,EAAU,UAAY,GACtBE,EAAS,UAAU,OAAO,WAAW,EAErCP,EAAmBU,CAAW,EAC3B,KAAKE,GAAc,CACdA,EAAW,QAAU,GACvBD,EAAS,KAAK,CACZ,QACE,2EACF,MAAO,MACP,SAAU,WACV,QAAS,IACT,MAAO,EACjB,CAAS,EAGHN,EAAU,UAAYjB,EAAwBwB,EAAW,IAAI,EAC5C,IAAIC,EAAe,gBAAiB,CACnD,gBAAiB,SACjB,aAAc,IACd,aAAc,KACtB,CAAO,EACQ,QAAO,CACtB,CAAK,EACA,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACjC,QAAQ,IAAM,CACbL,EAAM,OAAO,QACbF,EAAS,UAAU,IAAI,WAAW,CACxC,CAAK,CACL,CAEAD,EAAa,iBAAiB,SAAUE,CAAkB"}